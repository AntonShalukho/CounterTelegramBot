# name: Telegram Bot

# on:
#   push:
#     branches: [ main ]
#   schedule:
#     - cron: '*/1 * * * *'  # –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

# jobs:
#   run-bot:
#     runs-on: ubuntu-latest
#     steps:
#     - uses: actions/checkout@v3
#     - uses: actions/setup-node@v3
#       with:
#         node-version: '18'
#     - run: npm install
#     - run: node src/bot.js
#       env:
#         BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
#         MONGODB_URI: ${{ secrets.MONGODB_URI }}

# name: Run Telegram Bot

# on:
#   # –ó–∞–ø—É—Å–∫ –ø—Ä–∏ push –≤ main –≤–µ—Ç–∫—É
#   push:
#     branches: [ main ]
#   # –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 1 –º–∏–Ω—É—Ç
#   schedule:
#     - cron: '*/5 * * * *'
#   # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
#   workflow_dispatch:

# jobs:
#   run-bot:
#     runs-on: ubuntu-latest
#     timeout-minutes: 58  # –ú–µ–Ω—å—à–µ 60 –º–∏–Ω—É—Ç –ª–∏–º–∏—Ç–∞
    
#     steps:
#     - name: üì• Checkout repository
#       uses: actions/checkout@v4
      
#     - name: ‚éî Setup Node.js
#       uses: actions/setup-node@v4
#       with:
#         node-version: '18'
#         cache: 'npm'
        
#     - name: üì¶ Install dependencies
#       run: npm ci
      
#     - name: üöÄ Run Telegram Bot
#       env:
#         BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
#       run: npm start
      
#     - name: ‚úÖ Complete
#       if: always()
#       run: echo "–ë–æ—Ç –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É"

# with save in json

# name: Run Telegram Bot

# on:
#   push:
#     branches: [ main ]
#   schedule:
#     - cron: '*/2 * * * *'
#   workflow_dispatch:

# jobs:
#   run-bot:
#     runs-on: ubuntu-latest
#     timeout-minutes: 58
    
#     steps:
#     - name: üì• Checkout repository
#       uses: actions/checkout@v4
#       with:
#         token: ${{ secrets.GITHUB_TOKEN }}
        
#     - name: ‚éî Setup Node.js
#       uses: actions/setup-node@v4
#       with:
#         node-version: '18'
#         cache: 'npm'
        
#     - name: üì¶ Install dependencies
#       run: npm ci
      
#     - name: üöÄ Run Telegram Bot
#       env:
#         BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
#       run: npm start
      
#     - name: üíæ Commit and push if data changed
#       run: |
#         git config --local user.email "action@github.com"
#         git config --local user.name "GitHub Action"
#         git add bot-data.json
#         git diff --staged --quiet || git commit -m "ü§ñ Update bot data [skip ci]"
#         git push